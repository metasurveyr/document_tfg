<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Casos de uso – metasurvey</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/chapter7.html" rel="next">
<link href="../chapters/chapter5.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-6acfec930f039e47772079a424c7233b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<script src="../site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="../site_libs/react-18.2.0/react.min.js"></script>
<script src="../site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="../site_libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="../site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="../site_libs/reactable-binding-0.4.4/reactable.js"></script>
<link href="../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<link href="../site_libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/chapter6.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Casos de uso</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">metasurvey</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/metaSurveyR/metasurvey" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="../metasurvey.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Alternar modo lector">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Descripción del proyecto</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introducción</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Marco teórico</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Métodos computacionales</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Antecedentes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Metodología y desarrollo</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter6.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Casos de uso</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Pasos a futuro</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/bibliography.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Biblografía</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Alternar sección">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Appendices/AppendixA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Apendice</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
  <li><a href="#encuesta-continua-de-hogares-con-paneles-rotativos" id="toc-encuesta-continua-de-hogares-con-paneles-rotativos" class="nav-link active" data-scroll-target="#encuesta-continua-de-hogares-con-paneles-rotativos"><span class="header-section-number">6.1</span> Encuesta Continua de Hogares con Paneles Rotativos</a>
  <ul class="collapse">
  <li><a href="#contexto-y-cambios-metodológicos" id="toc-contexto-y-cambios-metodológicos" class="nav-link" data-scroll-target="#contexto-y-cambios-metodológicos"><span class="header-section-number">6.1.1</span> Contexto y Cambios Metodológicos</a></li>
  <li><a href="#carga-y-procesamiento-de-datos" id="toc-carga-y-procesamiento-de-datos" class="nav-link" data-scroll-target="#carga-y-procesamiento-de-datos"><span class="header-section-number">6.1.2</span> Carga y Procesamiento de Datos</a></li>
  <li><a href="#construcción-de-variables-e-indicadores" id="toc-construcción-de-variables-e-indicadores" class="nav-link" data-scroll-target="#construcción-de-variables-e-indicadores"><span class="header-section-number">6.1.3</span> Construcción de Variables e Indicadores</a></li>
  <li><a href="#estimación-de-tasas-de-mercado-de-trabajo" id="toc-estimación-de-tasas-de-mercado-de-trabajo" class="nav-link" data-scroll-target="#estimación-de-tasas-de-mercado-de-trabajo"><span class="header-section-number">6.1.4</span> Estimación de Tasas de Mercado de Trabajo</a></li>
  </ul></li>
  <li><a href="#encuesta-permanente-de-hogares-de-argentina" id="toc-encuesta-permanente-de-hogares-de-argentina" class="nav-link" data-scroll-target="#encuesta-permanente-de-hogares-de-argentina"><span class="header-section-number">6.2</span> Encuesta Permanente de Hogares de Argentina</a>
  <ul class="collapse">
  <li><a href="#visualización-de-las-recetas" id="toc-visualización-de-las-recetas" class="nav-link" data-scroll-target="#visualización-de-las-recetas"><span class="header-section-number">6.2.1</span> Visualización de las recetas</a></li>
  <li><a href="#compartiendo-recetas-entre-usuarios" id="toc-compartiendo-recetas-entre-usuarios" class="nav-link" data-scroll-target="#compartiendo-recetas-entre-usuarios"><span class="header-section-number">6.2.2</span> Compartiendo Recetas entre Usuarios</a></li>
  </ul></li>
  <li><a href="#más-sobre-metasurvey" id="toc-más-sobre-metasurvey" class="nav-link" data-scroll-target="#más-sobre-metasurvey"><span class="header-section-number">6.3</span> Más sobre <code>metasurvey</code></a></li>
  <li><a href="#resumen" id="toc-resumen" class="nav-link" data-scroll-target="#resumen"><span class="header-section-number">6.4</span> Resumen</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/metaSurveyR/metasurvey/edit/main/chapters/chapter6.qmd" class="toc-action"><i class="bi bi-github"></i>Editar esta página</a></li><li><a href="https://github.com/metaSurveyR/metasurvey/blob/main/chapters/chapter6.qmd" class="toc-action"><i class="bi empty"></i>Ver el código</a></li><li><a href="https://github.com/metaSurveyR/metasurvey/issues/new" class="toc-action"><i class="bi empty"></i>Informar de un problema</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-Chapter5" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Casos de uso</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<style type="text/css">
p {
  text-align: justify
}
</style>
</div>
<p>Para este capítulo se presentan dos casos de uso que demuestran la versatilidad y eficacia de <code>metasurvey</code> en el análisis de encuestas de hogares en América Latina. Se abordarán dos encuestas representativas de la región: la Encuesta Continua de Hogares (ECH) de Uruguay y la Encuesta Permanente de Hogares (EPH) de Argentina. Estas encuestas son fuentes clave de información sobre el mercado laboral en sus respectivos países y han sido utilizadas en diversos estudios y análisis socioeconómicos.</p>
<p>El paquete <code>metasurvey</code> facilita el procesamiento y análisis de encuestas de hogares a través de una interfaz unificada. Este capítulo presenta dos casos de uso que demuestran su versatilidad: el análisis de la Encuesta Continua de Hogares (ECH) de Uruguay y la Encuesta Permanente de Hogares (EPH) de Argentina.</p>
<section id="encuesta-continua-de-hogares-con-paneles-rotativos" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="encuesta-continua-de-hogares-con-paneles-rotativos"><span class="header-section-number">6.1</span> Encuesta Continua de Hogares con Paneles Rotativos</h2>
<section id="contexto-y-cambios-metodológicos" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="contexto-y-cambios-metodológicos"><span class="header-section-number">6.1.1</span> Contexto y Cambios Metodológicos</h3>
<p>En 2021, la ECH adoptó un diseño de panel rotativo, reemplazando su diseño <strong>cross-section</strong> anterior. Este cambio permite el seguimiento de hogares durante seis meses, tras lo cual se incorporan nuevos grupos de rotación en el panel, como se muestra en la <a href="#fig-ech-panels" class="quarto-xref">Figura&nbsp;<span>6.1</span></a> <span class="citation" data-cites="metodolog">(<a href="bibliography.html#ref-metodolog" role="doc-biblioref">Instituto Nacional de Estadı́stica 2021</a>)</span>. Esto mejora:</p>
<ul>
<li>La precisión de las estimaciones</li>
<li>El análisis de dinámicas laborales</li>
<li>La medición de indicadores socioeconómicos</li>
<li>El estudio de transiciones en el mercado laboral</li>
</ul>
<div id="fig-ech-panels" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ech-panels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Figures/paneles_rotativos_ech.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ech-panels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.1: Paneles Rotativos, extraído de documento metodológico de la ECH 2023
</figcaption>
</figure>
</div>
</section>
<section id="carga-y-procesamiento-de-datos" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="carga-y-procesamiento-de-datos"><span class="header-section-number">6.1.2</span> Carga y Procesamiento de Datos</h3>
<p>La ECH ha sido la principal fuente de información sobre el mercado laboral uruguayo desde 1968 y expandió su cobertura nacional en 1980. Los microdatos están disponibles desde 2006 en el portal <a href="https://www4.ine.gub.uy/Anda5/index.php/catalog/Encuestas_a_hogares">ANDA</a> del INE.</p>
<p>Para trabajar con la ECH 2023, se requieren:</p>
<ul>
<li>ECH_implantacion_2023.csv</li>
<li>ECH Seguimiento[1-12].csv</li>
<li>Archivos de pesos replicados Bootstrap mensuales (enero-diciembre 2023)</li>
</ul>
<p>Un aspecto técnico importante es el manejo eficiente de los pesos muestrales replicados. <code>metasurvey</code> optimiza este proceso convirtiendo automáticamente los archivos Excel de pesos bootstrap a formato CSV, mejorando significativamente el rendimiento en análisis posteriores.</p>
<div id="lst-ech-2023" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ech-2023-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.1: Carga de la encuesta continua de hogares en 2023, se carga la implantación y el seguimiento de la encuesta, se especifica el tipo de encuesta, el peso de la implantación y el peso del seguimiento, en este caso se utilizan pesos replicados bootstrap para el seguimiento de la encuesta.
</figcaption>
<div aria-describedby="lst-ech-2023-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>path_dir <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"example-data"</span>, <span class="st">"ech"</span>, <span class="st">"ech_2023"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>ech_2023 <span class="ot">&lt;-</span> <span class="fu">load_panel_survey</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">path_implantation =</span> <span class="fu">file.path</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    path_dir,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ECH_implantacion_2023.csv"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">path_follow_up =</span> <span class="fu">file.path</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    path_dir,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"seguimiento"</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">svy_type =</span> <span class="st">"ECH_2023"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">svy_weight_implantation =</span> <span class="fu">add_weight</span>(</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">annual =</span> <span class="st">"W_ANO"</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">svy_weight_follow_up =</span> <span class="fu">add_weight</span>(</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">monthly =</span> <span class="fu">add_replicate</span>(</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"W"</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">replicate_path =</span> <span class="fu">file.path</span>(</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        path_dir,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Pesos replicados Bootstrap mensuales enero_junio 2023"</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Pesos replicados Bootstrap mensuales julio_diciembre 2023"</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Pesos replicados mensuales enero_junio 2023"</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Pesos replicados mensuales Julio_diciembre 2023"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">replicate_id =</span> <span class="fu">c</span>(<span class="st">"ID"</span> <span class="ot">=</span> <span class="st">"ID"</span>),</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">replicate_pattern =</span> <span class="st">"wr[0-9]+"</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">replicate_type =</span> <span class="st">"bootstrap"</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<div style="page-break-after: always;"></div>
</section>
<section id="construcción-de-variables-e-indicadores" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="construcción-de-variables-e-indicadores"><span class="header-section-number">6.1.3</span> Construcción de Variables e Indicadores</h3>
<p>El paquete permite dos enfoques para la construcción de variables:</p>
<ol type="1">
<li>Utilizar recetas predefinidas disponibles a través de la API de <code>metasurvey</code></li>
<li>Crear recetas personalizadas según necesidades específicas</li>
</ol>
<p>Por ejemplo, para calcular indicadores del mercado laboral:</p>
<div id="lst-ech-recipe" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ech-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.2: Se puede ver las variables que dependen de la receta de ingreso compatibilizado para la ECH 2022.
</figcaption>
<div aria-describedby="lst-ech-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ingreso_compatibilizado <span class="ot">&lt;-</span> <span class="fu">get_recipe</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">svy_type =</span> <span class="st">"ech"</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">svy_edition =</span> <span class="st">"2022"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">topic =</span> <span class="st">"ingreso"</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>ingreso_compatibilizado<span class="sc">$</span>depends_on</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<p>A continuación se presentan algunas recetas que se pueden utilizar para calcular las tasas de mercado de trabajo a nivel mensual, trimestral y anual.</p>
<div id="lst-ech-steps" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ech-steps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.3: Creación de variables para el cálculo de tasas de mercado de trabajo en los microdatos de seguimiento de la ECH 2023.
</figcaption>
<div aria-describedby="lst-ech-steps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ech_2023 <span class="ot">&lt;-</span> ech_2023 <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">step_recode</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"pea"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        POBPCOAC <span class="sc">%in%</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">comment =</span> <span class="st">"Población Económicamente Activa"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">.level =</span> <span class="st">"follow_up"</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">step_recode</span>(</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"pet"</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        e27 <span class="sc">&gt;=</span> <span class="dv">14</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">comment =</span> <span class="st">"Población Empleada"</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">.level =</span> <span class="st">"follow_up"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">step_recode</span>(</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"po"</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        POBPCOAC <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">comment =</span> <span class="st">"Población Ocupada"</span>,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">.level =</span> <span class="st">"follow_up"</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">step_recode</span>(</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="st">"pd"</span>,</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        POBPCOAC <span class="sc">%in%</span> <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span>,</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">comment =</span> <span class="st">"Población Desocupada"</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">.level =</span> <span class="st">"follow_up"</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>ech_2023_bake <span class="ot">&lt;-</span> <span class="fu">bake_steps</span>(ech_2023)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<p>En el <a href="#lst-ech-steps" class="quarto-xref">código&nbsp;<span>6.3</span></a> se crean las variables necesarias para el cálculo de las tasas de mercado de trabajo a partir de los microdatos de seguimiento de la ECH 2023. Las variables creadas son: Población Económicamente Activa (PEA), Población Empleada (PET), Población Ocupada (PO) y Población Desocupada (PD). Una cosa importante es que la variable <code>POBPCOAC</code> es una variable construida por el INE que indica la condición de actividad, esta variable se construye a partir de los formularios dentro de <code>metasurvey</code> se encuentra a modo de receta la sintaxis publicada hasta la versión 2019 de la ECH, la misma fue basado en archivos <a href="https://www4.ine.gub.uy/Anda5/index.php/catalog/715/download/1198">PDF</a> donde incluían un script de SPSS para la construcción de la variable. Para años posteriores no fue publicado este documento, se espera en breve dejar disponible la receta para los años 2020 considerando el nuevo formulario y revisando las versiones anteriores.</p>
</section>
<section id="estimación-de-tasas-de-mercado-de-trabajo" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="estimación-de-tasas-de-mercado-de-trabajo"><span class="header-section-number">6.1.4</span> Estimación de Tasas de Mercado de Trabajo</h3>
<p>Una vez creadas las variables básicas, podemos calcular las tasas de actividad, empleo y desempleo utilizando la función <code>workflow</code>. Esta función permite realizar estimaciones a diferentes niveles temporales (mensual, trimestral, anual) y con distintos tipos de agregación.</p>
<section id="estimación-por-trimestre" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="estimación-por-trimestre">Estimación por trimestre</h4>
<div id="lst-ech-workflow" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ech-workflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.4: Estimación de tasas de mercado de trabajo a nivel trimestral a partir de las estimaciones mensuales.
</figcaption>
<div aria-describedby="lst-ech-workflow-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mercado_trabajo_mensual <span class="ot">&lt;-</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">workflow</span>(</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">survey =</span> <span class="fu">extract_surveys</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>            ech_2023_bake,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">quarterly =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        survey<span class="sc">::</span><span class="fu">svyratio</span>(</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>pea,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">denominator =</span> <span class="sc">~</span>pet</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        survey<span class="sc">::</span><span class="fu">svyratio</span>(</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>po,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">denominator =</span> <span class="sc">~</span>pet</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        survey<span class="sc">::</span><span class="fu">svyratio</span>(</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>            <span class="sc">~</span>pd,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">denominator =</span> <span class="sc">~</span>pea</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">estimation_type =</span> <span class="st">"quarterly:monthly"</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<div class="cell">
<pre><code>#&gt; file:////tmp/RtmpPMJ4X1/file18fa1a948dad.html screenshot completed</code></pre>
</div>
<div id="tbl-ech-mercado-trabajo" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ech-mercado-trabajo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabla&nbsp;6.1: Tasas de mercado de trabajo a nivel trimestral a partir de las estimaciones mensuales de la ECH 2023 con sus respectivos errores estándar y coeficientes de variación.
</figcaption>
<div aria-describedby="tbl-ech-mercado-trabajo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-df6b525b1b2f4ad92281" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-df6b525b1b2f4ad92281">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"tasa":["Tasa de Desempleo","Tasa de Desempleo","Tasa de Desempleo","Tasa de Desempleo","Tasa de Actividad","Tasa de Actividad","Tasa de Actividad","Tasa de Actividad","Tasa de Ocupación","Tasa de Ocupación","Tasa de Ocupación","Tasa de Ocupación"],"stat":["survey::svyratio: pd/pea","survey::svyratio: pd/pea","survey::svyratio: pd/pea","survey::svyratio: pd/pea","survey::svyratio: pea/pet","survey::svyratio: pea/pet","survey::svyratio: pea/pet","survey::svyratio: pea/pet","survey::svyratio: po/pet","survey::svyratio: po/pet","survey::svyratio: po/pet","survey::svyratio: po/pet"],"type":["Q1","Q2","Q3","Q4","Q1","Q2","Q3","Q4","Q1","Q2","Q3","Q4"],"value":[0.084120019942966,0.0856633633216532,0.0810370686048691,0.082319673013214,0.627431459973509,0.632441147310195,0.636207099516741,0.638789780385671,0.574650173463626,0.578267536845598,0.584648984363618,0.586202539775729],"se":[0.0265779984542174,0.0254834532312838,0.0238429884828415,0.023792969570266,0.0200963781517954,0.0174132940093703,0.0173805667810118,0.0175609936354986,0.0199785739294313,0.0177276553200744,0.0169074495059651,0.0164786281395451],"cv":[0.316016750493895,0.29732598114915,0.29407315166698,0.289355992787002,0.0320314443402287,0.0275375232360917,0.027318592632809,0.0274955164153659,0.0347733423286493,0.0306640601898907,0.0289206061042443,0.0281091081709662],"evaluate":["Excelente","Excelente","Excelente","Excelente","Excelente","Excelente","Excelente","Excelente","Excelente","Excelente","Excelente","Excelente"]},"columns":[{"id":"tasa","name":"tasa","type":"list","header":"Indicador"},{"id":"stat","name":"stat","type":"character","header":"Llamada"},{"id":"type","name":"type","type":"character","header":"Periodo"},{"id":"value","name":"value","type":"numeric","format":{"cell":{"digits":1,"percent":true},"aggregated":{"digits":1,"percent":true}},"header":"Valor"},{"id":"se","name":"se","type":"numeric","format":{"cell":{"digits":1,"percent":true},"aggregated":{"digits":1,"percent":true}},"header":"Error Estándar"},{"id":"cv","name":"cv","type":"numeric","format":{"cell":{"digits":4},"aggregated":{"digits":4}},"header":"CV"},{"id":"evaluate","name":"evaluate","type":"character","header":"Evaluación"}],"highlight":true,"striped":true,"dataKey":"3b2abdb36a046823fe15d3037ee2ff3c"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</figure>
</div>
<p>Como se puede ver en el <a href="#lst-ech-workflow" class="quarto-xref">código&nbsp;<span>6.4</span></a> se pueden realizar estimaciones a diferentes niveles temporales y con distintos tipos de agregación, en este caso se realizan estimaciones a nivel trimestral a partir de las estimaciones mensuales, el resultado de la estimación se puede ver en la <a href="#tbl-ech-mercado-trabajo" class="quarto-xref">Tabla&nbsp;<span>6.1</span></a>.</p>
</section>
<section id="estimación-de-valores-anuales" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="estimación-de-valores-anuales">Estimación de valores anuales</h4>
<p>También es posible realizar estimaciones a nivel anual, para esto se debe de considerar las medias de las estimaciones mensuales para cada trimestre y luego realizar la estimación anual.</p>
<p>La nueva metodología puede dar confusiones sobre que microdatos utilizar ya que para estimaciones anuales se consideran los microdatos de implantación y las referidas a mercado de trabajo se consideran los microdatos de seguimiento esto se debe a que el hogar luego de ser seleccionado en la implantación el formulario se realiza por vía telefónica y se centra unicamente a variables referidas al situación de empleo del hogar. Para realizar estimaciones por ejemplo de cantidad de personas que finalizaron un ciclo educativo se debe de considerar los microdatos de implantación a nivel anual.</p>
<p>Si bien dentro de <code>metasurvey</code> se pueden realizar estimaciones en diferentes años, es necesario tener cierta consideración del cambio metodológico al momento de interpretar los resultados, situaciones que también ocurrieron en la edición de 2012 y 2006 <span class="citation" data-cites="comunica">(<a href="bibliography.html#ref-comunica" role="doc-biblioref"><span>«Comunicado Encuesta Continua de Hogares»</span> 2024</a>)</span>.</p>
<div id="lst-ech-workflow-annual" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ech-workflow-annual-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.5: Estimación de tasas de mercado de trabajo a nivel anual a partir de las estimaciones mensuales.
</figcaption>
<div aria-describedby="lst-ech-workflow-annual-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mercado_trabajo_anual <span class="ot">=</span> <span class="fu">workflow</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">survey =</span> <span class="fu">extract_surveys</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    ech_2023_bake,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">annual =</span> <span class="dv">2023</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  survey<span class="sc">::</span><span class="fu">svyratio</span>(</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> pea,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">denominator =</span> <span class="sc">~</span> pet</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  survey<span class="sc">::</span><span class="fu">svyratio</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> po,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">denominator =</span> <span class="sc">~</span> pet</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  survey<span class="sc">::</span><span class="fu">svyratio</span>(</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> pd,</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">denominator =</span> <span class="sc">~</span> pea</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">estimation_type =</span> <span class="st">"annual:monthly"</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<div id="tbl-ech-mercado-trabajo-anual" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ech-mercado-trabajo-anual-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Tabla&nbsp;6.2: Tasas de mercado de trabajo a nivel anual a partir de las estimaciones mensuales de la ECH 2023 con sus respectivos errores estándar y coeficientes de variación considerando las replicas bootstrap.
</figcaption>
<div aria-describedby="tbl-ech-mercado-trabajo-anual-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-56698225c3e940e68595" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-56698225c3e940e68595">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"tasa":["Tasa de Desempleo","Tasa de Actividad","Tasa de Ocupación"],"stat":["survey::svyratio: pd/pea","survey::svyratio: pea/pet","survey::svyratio: po/pet"],"type":["2023","2023","2023"],"value":[0.0832850312206756,0.633717371796529,0.580942308612143],"se":[0.0249243524346522,0.018112808144419,0.017773076723754],"cv":[0.299192969024257,0.0285957691561238,0.0306167791984376],"evaluate":["Excelente","Excelente","Excelente"]},"columns":[{"id":"tasa","name":"tasa","type":"list","header":"Indicador"},{"id":"stat","name":"stat","type":"character","header":"Llamada"},{"id":"type","name":"type","type":"character","header":"Periodo"},{"id":"value","name":"value","type":"numeric","format":{"cell":{"digits":1,"percent":true},"aggregated":{"digits":1,"percent":true}},"header":"Valor"},{"id":"se","name":"se","type":"numeric","format":{"cell":{"digits":1,"percent":true},"aggregated":{"digits":1,"percent":true}},"header":"Error Estándar"},{"id":"cv","name":"cv","type":"numeric","format":{"cell":{"digits":4},"aggregated":{"digits":4}},"header":"CV"},{"id":"evaluate","name":"evaluate","type":"character","header":"Evaluación"}],"highlight":true,"striped":true,"dataKey":"e98095f1c287770c5f530b4f1fa1944c"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</figure>
</div>
<p>Podemos ver que se obtiene un objeto donde se tiene las estimaciones de las tasas de mercado de trabajo a nivel mensual, trimestral y anual. En este caso se utilizan las replicas bootstrap para calcular los errores estándar de las estimaciones y se incluye una recomendación sobre la confiabilidad de las estimaciones en base al coeficiente de variación de las estimaciones.</p>
</section>
</section>
</section>
<section id="encuesta-permanente-de-hogares-de-argentina" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="encuesta-permanente-de-hogares-de-argentina"><span class="header-section-number">6.2</span> Encuesta Permanente de Hogares de Argentina</h2>
<p>Para demostrar la versatilidad de <code>metasurvey</code>, se presenta un segundo caso de uso con la Encuesta Permanente de Hogares (EPH) de Argentina. La EPH es una encuesta continua de hogares que se realiza en el país desde 1985 y es la principal fuente de información sobre el mercado laboral argentino. Los microdatos de la EPH están disponibles en el <a href="https://www.indec.gob.ar/indec/web/Institucional-Indec-BasesDeDatos">portal del INDEC</a>.</p>
<p>Podemos hacer algo similar a lo que hicimos con la ECH, en este caso cargamos los microdatos de la EPH 2022 trimestre 3 y creamos las variables necesarias para el cálculo de las tasas de mercado de trabajo. Estos <code>steps</code> fueron basados en base al formulario de la encuesta y la documentación disponible.</p>
<div id="lst-eph-2022" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-eph-2022-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.6: Carga de la encuesta permanente de hogares en el tercer trimestre de 2022, se crean las variables necesarias para el cálculo de tasas de mercado de trabajo.
</figcaption>
<div aria-describedby="lst-eph-2022-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>eph2022_3 <span class="ot">&lt;-</span> metasurvey<span class="sc">::</span><span class="fu">load_survey</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> metasurvey<span class="sc">::</span><span class="fu">load_survey_example</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eph"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eph2022_3"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy_type =</span> <span class="st">"eph"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy_edition =</span> <span class="st">"eph_202302"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy_weight =</span> <span class="fu">add_weight</span>(</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">monthly =</span> <span class="st">"PONDERA"</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    metasurvey<span class="sc">::</span><span class="fu">step_recode</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"pea"</span>,</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        ESTADO <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    metasurvey<span class="sc">::</span><span class="fu">step_recode</span>(</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"pet"</span>,</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        ESTADO <span class="sc">!=</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    metasurvey<span class="sc">::</span><span class="fu">step_recode</span>(</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">"po"</span>,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>        ESTADO <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    metasurvey<span class="sc">::</span><span class="fu">step_recode</span>(</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>        <span class="st">"pd"</span>,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>        ESTADO <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">.default =</span> <span class="dv">0</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<section id="visualización-de-las-recetas" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="visualización-de-las-recetas"><span class="header-section-number">6.2.1</span> Visualización de las recetas</h3>
<p>Algo interesante que se puede hacer con <code>metasurvey</code> es visualizar las recetas que se utilizan para la construcción de las variables, esto puede ser útil para entender como se construyen las variables y que variables dependen de otras. En este caso se muestra la visualización para la creación de la variable <code>POBPCOAC</code> en la ECH 2019, si bien el INE ya incorpora esta variable en los microdatos, se puede ver como se construye la variable en base a otras variables del formulario.</p>
<div id="lst-ech-recipe-2019" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-ech-recipe-2019-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.7: Carga de la encuesta y se obtienen las recetas disponibles referidas al tópico de mercado de trabajo.
</figcaption>
<div aria-describedby="lst-ech-recipe-2019-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>ech_2019 <span class="ot">&lt;-</span> <span class="fu">load_survey</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> <span class="st">"https://metasurvey-example-data.s3.us-east-2.amazonaws.com/ech/ech_2019.csv"</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy_type =</span> <span class="st">"ech"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy_edition =</span> <span class="st">"2019"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy_weight =</span> <span class="fu">add_weight</span>(</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">annual =</span> <span class="st">"pesoano"</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">recipes =</span> <span class="fu">get_recipe</span>(</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">svy_type =</span> <span class="st">"ECH"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">svy_edition =</span> <span class="dv">2019</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">topic =</span> <span class="st">"Mercado de trabajo"</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>ech_2019 <span class="ot">&lt;-</span> <span class="fu">bake_recipes</span>(ech_2019)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
<p>Si bien se puede ingresar a los atributos de la receta para ver las variables que dependen de la misma, se puede visualizar de una forma más amigable con la función <code>view_graph</code> como se puede ver en la <a href="#fig-ech-graph" class="quarto-xref">Figura&nbsp;<span>6.2</span></a>.</p>
<div id="fig-ech-graph" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ech-graph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div id="htmlwidget-92f8013f27c09be0c60b" style="width:100%;height:500px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-92f8013f27c09be0c60b">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11],"label":["\n\n\n\n\n\nType: ech\nEdition: 2019\nWeight Weight annual: pesoano (Simple design)","step_1 New variable: codac","step_2 New variable: codac","step_3 New variable: codac","step_4 New variable: codac","step_5 New variable: codac","step_6 New group: POBPCOAC","step_7 New group: pea","step_8 New group: pet","step_9 New group: po","step_10 New group: pd"],"title":["\n\n\n\n\n\nType: ech\nEdition: 2019\nWeight Weight annual: pesoano (Simple design)","<h2>\nInicializar codac como NA\n<\/h2>\n<h5>\nlist(codac = NA)\n<\/h5>","<h2>\nAsignar codac = 0 para menores de 14 años\n<\/h2>\n<h5>\nlist(codac = ifelse(e27 < 14, 0, codac))\n<\/h5>","<h2>\nAsignar codac = 1 para ocupados\n<\/h2>\n<h5>\nlist(codac = ifelse((e27 >= 14) & (((f269 == 1 | f270 == 1) & f271 == 1) | ((f269 == 2 & f270 == 1 & f271 == 2 & f272 == 1)) | ((f269 == 1 & f271 == 2 & f272 == 2 & f273 == 1 & f69 == 1)) | ((f269 == 1 & f271 == 2 & f272 == 2 & f273 == 1 & (f69 != 1 & f69 != 9 & f69 != 0) & (f274 == 1 | (f274 == 2 & (f275 == 1 | f275 == 2))))) | ((f269 == 2 & f270 == 1 & f271 == 2 & f272 == 2 & f273 == 1 & f69 == 1)) | ((f269 == 1 & f271 == 2 & f272 == 1)) | ((f269 == 2 & f270 == 2 & f273 == 1 & f69 == 1)) | ((f269 ==      2 & f270 == 2 & f273 == 1 & f69 %in% c(2, 3, 5, 6, 7, 8) & f274 == 1)) | ((f269 == 2 & f270 == 2 & f273 == 1 & f69 %in% c(2, 3, 5, 6, 7, 8) & f274 == 2 & (f275 == 1 | f275 == 2))) | ((f276 == 1 & f277 == 1))), 1, codac))\n<\/h5>","<h2>\nAsignar codac = 2 para desocupados\n<\/h2>\n<h5>\nlist(codac = ifelse((e27 >= 14) & is.na(codac) & ((f106 == 1 & (f107 == 1 | f109 == 1) & (f110 > 0 & f110 <= 6)) | (f106 == 1 & f108 %in% c(2, 3))), 2, codac))\n<\/h5>","<h2>\nAsignar codac = 3 para inactivos\n<\/h2>\n<h5>\nlist(codac = ifelse(is.na(codac), 3, codac))\n<\/h5>","<h2>\nClasificar POBPCOAC según CODAC\n<\/h2>\n<h5>\nPOBPCOAC: list(codac == 0 ~ 1, codac == 1 ~ 2, codac == 2 & f116 == 2 ~ 3, codac == 2 & f116 == 1 & f117 == 2 ~ 4, codac == 2 & f116 == 1 & (f69 == 9 | f117 == 1) ~ 5, codac == 3 & f124_5 == 1 ~ 6, codac == 3 & f124_4 == 1 ~ 7, codac == 3 & f124_3 == 1 ~ 8, codac == 3 & f124_2 == 1 ~ 9, codac == 3 & f124_1 == 1 ~ 10)\n<\/h5>","<h2>\nPoblación Económicamente Activa\n<\/h2>\n<h5>\npea: list(pobpcoac %in% 2:5 ~ 1)\n<\/h5>","<h2>\nPoblación Empleada\n<\/h2>\n<h5>\npet: list(e27 >= 14 ~ 1)\n<\/h5>","<h2>\nPoblación Ocupada\n<\/h2>\n<h5>\npo: list(pobpcoac == 2 ~ 1)\n<\/h5>","<h2>\nPoblación Desocupada\n<\/h2>\n<h5>\npd: list(pobpcoac %in% 3:5 ~ 1)\n<\/h5>"],"group":["Load survey","compute","compute","compute","compute","compute","recode","recode","recode","recode","recode"]},"edges":{"from":[1,2,3,4,5,6,7,8,9,10],"to":[2,3,4,5,6,7,8,9,10,11]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"groups":{"Load survey":{"shape":"icon","icon":{"code":"f1c0","color":"#440154"},"shadow":{"enabled":true}},"compute":{"shape":"icon","icon":{"code":"f1ec","color":"#31688e"},"shadow":{"enabled":true}},"useDefaultGroups":true,"recode":{"shape":"icon","icon":{"code":"f0e8","color":"#21918c"},"shadow":{"enabled":true}}},"edges":{"arrows":"to"},"layout":{"hierarchical":{"enabled":true,"levelSeparation":200,"direction":"LR"}},"clickToUse":true},"groups":["Load survey","compute","recode"],"width":"100%","height":"500px","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","iconsRedraw":true,"opts_manipulation":{"datacss":"table.legend_table {\n  font-size: 11px;\n  border-width:1px;\n  border-color:#d3d3d3;\n  border-style:solid;\n}\ntable.legend_table td {\n  border-width:1px;\n  border-color:#d3d3d3;\n  border-style:solid;\n  padding: 2px;\n}\ndiv.table_content {\n  width:80px;\n  text-align:center;\n}\ndiv.table_description {\n  width:100px;\n}\n\n.operation {\n  font-size:20px;\n}\n\n.network-popUp {\n  display:none;\n  z-index:299;\n  width:250px;\n  /*height:150px;*/\n  background-color: #f9f9f9;\n  border-style:solid;\n  border-width:1px;\n  border-color: #0d0d0d;\n  padding:10px;\n  text-align: center;\n  position:fixed;\n  top:50%;  \n  left:50%;  \n  margin:-100px 0 0 -100px;  \n\n}","addNodeCols":["id","label"],"editNodeCols":["id","label"],"tab_add_node":"<span id=\"addnode-operation\" class = \"operation\">node<\/span> <br><table style=\"margin:auto;\"><tr><td>id<\/td><td><input id=\"addnode-id\"  type= \"text\" value=\"new value\"><\/td><\/tr><tr><td>label<\/td><td><input id=\"addnode-label\"  type= \"text\" value=\"new value\"><\/td><\/tr><\/table><input type=\"button\" value=\"save\" id=\"addnode-saveButton\"><\/button><input type=\"button\" value=\"cancel\" id=\"addnode-cancelButton\"><\/button>","tab_edit_node":"<span id=\"editnode-operation\" class = \"operation\">node<\/span> <br><table style=\"margin:auto;\"><tr><td>id<\/td><td><input id=\"editnode-id\"  type= \"text\" value=\"new value\"><\/td><\/tr><tr><td>label<\/td><td><input id=\"editnode-label\"  type= \"text\" value=\"new value\"><\/td><\/tr><\/table><input type=\"button\" value=\"save\" id=\"editnode-saveButton\"><\/button><input type=\"button\" value=\"cancel\" id=\"editnode-cancelButton\"><\/button>"},"highlight":{"enabled":false,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"legend":{"width":0.2,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":false,"main":{"text":"Type","style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:14px;text-align:center;"}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ech-graph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.2: Flujo de construcción de la variable <code>POBPCOAC</code> en la ECH 2019 y variables de mercado de trabajo que dependen de la misma.
</figcaption>
</figure>
</div>
</section>
<section id="compartiendo-recetas-entre-usuarios" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="compartiendo-recetas-entre-usuarios"><span class="header-section-number">6.2.2</span> Compartiendo Recetas entre Usuarios</h3>
<p>En el ejemplo anterior se descargaron recetas ya definidas pero también se pueden compartir recetas entre usuarios, esto puede ser útil para compartir recetas que se han construido en base a la documentación de la encuesta o para compartir recetas que se han construido en base a la experiencia de los usuarios como se ve en el <a href="#lst-share-recipe" class="quarto-xref">código&nbsp;<span>6.8</span></a>.</p>
<div id="lst-share-recipe" class="listing quarto-float quarto-figure quarto-figure-left anchored">
<figure class="quarto-float quarto-float-lst figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-lst" id="lst-share-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Código&nbsp;6.8: Compartir receta de clasificación de la población por condición de actividad en la ECH 2019.
</figcaption>
<div aria-describedby="lst-share-recipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>receta <span class="ot">&lt;-</span> <span class="fu">steps_to_recipe</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Población por condición de actividad"</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">user =</span> <span class="st">"INE-Uruguay"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">svy =</span> ech_2019,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> <span class="st">"Clasificación de la población por condición de actividad"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">steps =</span> ech_2019<span class="sc">$</span>steps,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">topic =</span> <span class="st">"Mercado de trabajo"</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">publish_recipe</span>(receta)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Recipe successfully published to metasurvey API. Thanks for your contribution :). Status code: 201</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; $insertedId</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] "674ef08cc946aff505309e15"</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</figure>
</div>
</section>
</section>
<section id="más-sobre-metasurvey" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="más-sobre-metasurvey"><span class="header-section-number">6.3</span> Más sobre <code>metasurvey</code></h2>
<p>Para la construcción del paquete se ha realizado mucho trabajo en el desarrollo de cada una de las funciones, se ha buscado que el paquete sea lo más eficiente posible y que sea fácil de usar, se han realizado pruebas de rendimiento y se han buscado formas de optimizar el código para que sea lo más rápido posible.</p>
<p>En la <a href="#fig-metasurvey-deps" class="quarto-xref">Figura&nbsp;<span>6.3</span></a> se puede ver las dependencias de las funciones dentro de <code>metasurvey</code>, se puede ver que las funciones están muy bien organizadas y que se pueden utilizar de forma independiente, esto permite que el paquete sea muy flexible y que se puedan utilizar las funciones de forma independiente o en conjunto.</p>
<p>Desarrollar el paquete ha sido un proceso largo y complejo, pero ha sido muy gratificante ver cómo ha evolucionado puede ser utilizado por diferentes usuarios para diferentes tipos de encuestas, se espera que el paquete siga evolucionando y que se sigan incorporando nuevas funcionalidades y mejoras. Si bien el paquete ha sido desarrollado en base a las encuestas de hogares de Uruguay y Argentina, se espera que pueda ser utilizado para otras encuestas de hogares en América Latina y en otros países.</p>
<p>En futuras versiones se espera que el usuario pueda buscar y crear recetas de una interfaz gráfica, un registro de usuarios, monitoreo y analítica de uso, entre otras funcionalidades.</p>
<p>El paquete es muy flexible y la forma de que sea más útil es que los usuarios compartan sus recetas y que se puedan compartir entre usuarios, esto permitirá que el paquete sea más útil y que se puedan construir recetas más complejas y que se puedan compartir entre usuarios.</p>
<div id="fig-metasurvey-deps" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-metasurvey-deps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item" id="htmlwidget-b52829416566eb193bf5" style="width:100%;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-b52829416566eb193bf5">{"x":{"nodes":{"id":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98"],"label":["metasurvey:::.onAttach","metasurvey:::.onLoad","metasurvey:::%@%","metasurvey:::%||%","metasurvey::add_replicate","metasurvey::add_weight","metasurvey::bake_recipes","metasurvey:::bake_step","metasurvey::bake_steps","metasurvey:::bake_steps_rotative","metasurvey:::bake_steps_survey","metasurvey::cat_design","metasurvey::cat_design_type","metasurvey:::cat_estimation","metasurvey:::cat_estimation.default","metasurvey:::cat_estimation.svyby","metasurvey:::cat_estimation.svyratio","metasurvey::cat_recipes","metasurvey:::compute","metasurvey:::config_survey","metasurvey:::decode_step","metasurvey::default_engine","metasurvey:::encoding_recipe","metasurvey::evaluate_cv","metasurvey::extract_surveys","metasurvey::extract_time_pattern","metasurvey:::find_dependencies","metasurvey::get_api_key","metasurvey:::get_comments","metasurvey::get_data","metasurvey:::get_design","metasurvey:::get_distinct_recipes","metasurvey:::get_distinct_recipes_json","metasurvey:::get_edition","metasurvey::get_engine","metasurvey::get_follow_up","metasurvey:::get_formulas","metasurvey::get_implantation","metasurvey:::get_info_weight","metasurvey::get_metadata","metasurvey::get_recipe","metasurvey::get_steps","metasurvey:::get_type","metasurvey:::get_type_step","metasurvey:::get_user","metasurvey:::get_weight","metasurvey::group_dates","metasurvey:::is_blank","metasurvey::lazy_default","metasurvey::load_panel_survey","metasurvey::load_survey","metasurvey::load_survey_example","metasurvey:::load_survey.data.table","metasurvey:::metadata_args","metasurvey:::metadata_recipe","metasurvey:::new_step","metasurvey:::public_key","metasurvey::publish_recipe","metasurvey:::read_file","metasurvey::read_recipe","metasurvey::recipe","metasurvey:::recipe_to_json","metasurvey:::recode","metasurvey:::request_api","metasurvey::save_recipe","metasurvey::set_api_key","metasurvey:::set_data","metasurvey:::set_edition","metasurvey::set_engine","metasurvey::set_lazy_processing","metasurvey:::set_type","metasurvey::set_use_copy","metasurvey:::set_weight","metasurvey::show_engines","metasurvey::step_compute","metasurvey:::step_compute_rotative","metasurvey:::step_compute_survey","metasurvey::step_recode","metasurvey:::step_recode_rotative","metasurvey:::step_recode_survey","metasurvey:::step_to_env","metasurvey::steps_to_recipe","metasurvey::survey_empty","metasurvey::survey_to_data_frame","metasurvey::survey_to_data.table","metasurvey::survey_to_tibble","metasurvey:::url_api_host","metasurvey::use_copy_default","metasurvey:::validate_recipe","metasurvey:::validate_replicate","metasurvey:::validate_step","metasurvey::validate_time_pattern","metasurvey:::validate_weight","metasurvey:::validate_weight_time_pattern","metasurvey::view_graph","metasurvey::workflow","metasurvey:::workflow_default","metasurvey:::workflow_pool"],"package":["metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey"],"exported":[0,0,0,0,1,1,1,0,1,0,0,1,1,0,0,0,0,1,0,0,0,1,0,1,1,1,0,1,0,1,0,0,0,0,1,1,0,1,0,1,1,1,0,0,0,0,1,0,1,1,1,1,0,0,0,0,0,1,0,1,1,0,0,0,1,1,0,0,1,1,0,1,0,1,1,0,0,1,0,0,0,1,1,1,1,1,0,1,0,0,0,1,0,0,1,1,0,0],"group":["metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey","metasurvey"],"name":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98"],"color":["rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)","rgba(68, 1, 84, 0.8)"],"shape":["square","square","square","square","dot","dot","dot","square","dot","square","square","dot","dot","square","square","square","square","dot","square","square","square","dot","square","dot","dot","dot","square","dot","square","dot","square","square","square","square","dot","dot","square","dot","square","dot","dot","dot","square","square","square","square","dot","square","dot","dot","dot","dot","square","square","square","square","square","dot","square","dot","dot","square","square","square","dot","dot","square","square","dot","dot","square","dot","square","dot","dot","square","square","dot","square","square","square","dot","dot","dot","dot","dot","square","dot","square","square","square","dot","square","square","dot","dot","square","square"]},"edges":{"from":["28","35","45","49","88","22","72","88","48","61","88","91","10","11","11","88","8","88","4","13","32","30","49","67","88","4","35","61","27","57","30","61","34","3","12","18","22","42","21","22","33","61","64","43","4","5","26","51","4","7","32","54","59","89","83","28","61","87","54","21","4","22","55","23","61","30","49","67","88","28","87","23","61","67","88","68","88","22","35","74","71","88","73","88","76","77","88","77","88","19","27","30","34","35","43","49","88","91","79","80","83","88","80","88","27","30","34","35","43","63","88","61","83","30","30","30","4","59","3","4","26","90","93","29","34","37","39","42","43","44","97","98","14","14","24"],"to":["1","1","1","1","1","2","2","2","3","7","8","8","9","9","10","10","11","11","12","12","18","19","19","19","19","22","22","23","27","28","30","32","34","35","40","40","40","40","41","41","41","41","41","43","45","50","50","50","53","53","53","53","53","53","56","58","58","58","59","60","61","61","61","62","62","63","63","63","63","64","64","65","65","67","67","68","68","69","69","69","71","71","73","73","75","75","75","76","76","77","77","77","77","77","77","77","77","77","78","78","78","78","79","79","80","80","80","80","80","80","80","82","82","84","85","86","87","90","92","92","92","94","94","95","95","95","95","95","95","95","96","96","97","98","98"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":"from","arrowStrikethrough":false,"color":{"color":"#333333","opacity":1,"hover":"#111111","highlight":"black"}},"interaction":{"dragNodes":true,"hover":true,"zoomSpeed":1},"physics":{"solver":"repulsion","stabilization":{"enabled":true,"iterations":4000,"onlyDynamicEdges":false}}},"groups":["metasurvey"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 280px; height: 26px;","useLabels":true,"main":"Select function"},"byselection":{"enabled":true,"style":"width: 280px; height: 26px;","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select package","values":["metasurvey"]},"main":{"text":null,"style":"font-family:Georgia, Times New Roman, Times, serif;font-weight:bold;font-size:20px;text-align:center;"},"submain":{"text":"<strong>Packages: [metasurvey]<\/strong><br><\/br>","style":"font-family:Helvetica, Helvetica, Times, serif; font-size:16px; text-align:left;"},"footer":null,"background":"rgba(0, 0, 0, 0)","highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-metasurvey-deps-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figura&nbsp;6.3: Funciones dentro de <code>metasurvey</code> y sus dependencias. Los nodos representan las funciones y las aristas las dependencias entre ellas.
</figcaption>
</figure>
</div>
</section>
<section id="resumen" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="resumen"><span class="header-section-number">6.4</span> Resumen</h2>
<p>Los casos de uso presentados demuestran la flexibilidad y potencia de <code>metasurvey</code> para el procesamiento de diferentes encuestas de hogares:</p>
<ul>
<li><p>En el caso de la ECH, se mostró cómo manejar eficientemente el nuevo diseño de panel rotativo y los pesos muestrales replicados bootstrap para generar estimaciones precisas de indicadores del mercado laboral.</p></li>
<li><p>Con la EPH, se evidenció la capacidad del paquete para adaptarse a diferentes estructuras de datos y metodologías de encuestas, manteniendo una interfaz consistente.</p></li>
<li><p>La visualización de recetas mediante <code>view_graph()</code> facilita la comprensión de las dependencias entre variables y la transparencia en la construcción de indicadores.</p></li>
<li><p>La posibilidad de compartir recetas entre usuarios permite aprovechar el conocimiento colectivo y acelerar el proceso de análisis de encuestas.</p></li>
</ul>
<p>Estas características hacen de <code>metasurvey</code> una herramienta valiosa para investigadores y analistas que trabajan con encuestas de hogares en América Latina, proporcionando un marco unificado y eficiente para el procesamiento y análisis de datos.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-comunica" class="csl-entry" role="listitem">
<span>«Comunicado Encuesta Continua de Hogares»</span>. 2024. <a href="https://www.gub.uy/instituto-nacional-estadistica/comunicacion/noticias/comunicado-encuesta-continua-hogares">https://www.gub.uy/instituto-nacional-estadistica/comunicacion/noticias/comunicado-encuesta-continua-hogares</a>.
</div>
<div id="ref-metodolog" class="csl-entry" role="listitem">
Instituto Nacional de Estadı́stica. 2021. <span>«Metodolog<span>ı́</span>a de la <span>Encuesta</span> <span>Continua</span> de <span>Hogares</span> <span>Instituto</span> <span>Nacional</span> de <span>Estad<span>ı́</span>stica</span>»</span>. <a href="https://www.ine.gub.uy">https://www.ine.gub.uy</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/github\.com\/metaSurveyR\/metasurvey");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapters/chapter5.html" class="pagination-link" aria-label="Metodología y desarrollo">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Metodología y desarrollo</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/chapter7.html" class="pagination-link" aria-label="Pasos a futuro">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Pasos a futuro</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/metaSurveyR/metasurvey/edit/main/chapters/chapter6.qmd" class="toc-action"><i class="bi bi-github"></i>Editar esta página</a></li><li><a href="https://github.com/metaSurveyR/metasurvey/blob/main/chapters/chapter6.qmd" class="toc-action"><i class="bi empty"></i>Ver el código</a></li><li><a href="https://github.com/metaSurveyR/metasurvey/issues/new" class="toc-action"><i class="bi empty"></i>Informar de un problema</a></li></ul></div></div></div></footer></body></html>